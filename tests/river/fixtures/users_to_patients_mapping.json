{
    "id": "resource_001",
    "logicalReference": "415e76f4-44f4-4a19-942d-7550ea9f4161",
    "primaryKeyOwner": {
        "name": "public"
    },
    "primaryKeyTable": "users_user",
    "primaryKeyColumn": "email",
    "definitionId": "Patient",
    "source": {
        "id": "source_001",
        "name": "logilan",
        "version": null,
        "credential": {
            "owner": null,
            "host": "localhost",
            "port": 5432,
            "database": "river",
            "login": "river",
            "password": "river",
            "model": "POSTGRES"
        }
    },
    "attributes": [
        {
            "path": "active",
            "sliceName": null,
            "definitionId": "boolean",
            "comments": [],
            "inputGroups": [
                {
                    "id": "input_group_001",
                    "mergingScript": null,
                    "inputs": [
                        {
                            "script": null,
                            "conceptMapId": null,
                            "staticValue": true,
                            "sqlValue": null
                        }
                    ],
                    "conditions": []
                }
            ]
        }
    ],
    "filters": [],
    "definition": {
        "id": "Patient",
        "url": "http://hl7.org/fhir/StructureDefinition/Patient",
        "name": "Patient",
        "type": "Patient",
        "description": "Demographics and other administrative information about an individual or animal receiving care or other health-related services.",
        "kind": "resource",
        "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
        "derivation": "specialization",
        "publisher": "Health Level Seven International (Patient Administration)",
        "min": 0,
        "max": "*",
        "constraint": [
            {
                "expression": "contained.contained.empty()",
                "human": "If the resource is contained in another resource, it SHALL NOT contain nested Resources",
                "key": "dom-2",
                "severity": "error",
                "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
                "xpath": "not(parent::f:contained and f:contained)"
            },
            {
                "expression": "contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()",
                "human": "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource",
                "key": "dom-3",
                "severity": "error",
                "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
                "xpath": "not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"
            },
            {
                "expression": "contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()",
                "human": "If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated",
                "key": "dom-4",
                "severity": "error",
                "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
                "xpath": "not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"
            },
            {
                "expression": "contained.meta.security.empty()",
                "human": "If a resource is contained in another resource, it SHALL NOT have a security label",
                "key": "dom-5",
                "severity": "error",
                "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
                "xpath": "not(exists(f:contained/*/f:meta/f:security))"
            },
            {
                "expression": "text.`div`.exists()",
                "extension": [
                    {
                        "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice",
                        "valueBoolean": true
                    },
                    {
                        "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation",
                        "valueMarkdown": "When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
                    }
                ],
                "human": "A resource should have narrative for robust management",
                "key": "dom-6",
                "severity": "warning",
                "source": "http://hl7.org/fhir/StructureDefinition/DomainResource",
                "xpath": "exists(f:text/h:div)"
            }
        ]
    }
}